#!/usr/bin/env bash

# Get a warning when you create a branch off of main.
# Save to your project's repo as .git/hooks/post-checkout

prev=$(git branch --contains $1 --merged)
curr=$(git branch --contains $2 --merged)
file=$3

[[ "$file" == "0" ]] && exit
[[ "$prev" != "$curr" ]] && exit

echo "$curr" | grep -w "main" | grep -v '*' > /dev/null
[[ $? -eq 0 ]] && echo -e "\033[0;31mWARNING! You are creating a branch off main\033[0m" || exit 0


